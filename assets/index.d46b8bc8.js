const w=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const d of r.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function o(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerpolicy&&(r.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?r.credentials="include":t.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(t){if(t.ep)return;t.ep=!0;const r=o(t);fetch(t.href,r)}};w();const f=["CanvasDark"],s=[];let c,g;for(c=0,g=f.length;c<g;++c)s.push(new ol.layer.Tile({visible:!1,preload:1/0,source:new ol.source.BingMaps({key:"AsU8_N1gSCabYrBjaZQEzQJTnM4UX0SwC3ChXxeTPpvjpBlgWpB60-tX51v1_8ue",imagerySet:f[c]})}));const p=document.getElementById("layer-select");function y(){const e=p.value;for(let n=0,o=s.length;n<o;++n)s[n].setVisible(f[n]===e)}p.addEventListener("change",y);y();var l=new ol.Map({layers:s,view:new ol.View({zoom:4,center:ol.proj.fromLonLat([-111.64845,40.73292])})}),h={};function C(e,n){var o=e.get("features").length,i=h[o];if(!i){var t=o>25?"248, 128, 0":o>8?"248, 192, 0":"128, 192, 64",r=Math.max(8,Math.min(o*.75,20));i=h[o]=[new ol.style.Style({image:new ol.style.Circle({radius:r+2,stroke:new ol.style.Stroke({color:"rgba("+t+",0.3)",width:4})})}),new ol.style.Style({image:new ol.style.Circle({radius:r,fill:new ol.style.Fill({color:"rgba("+t+",0.6)"})}),text:new ol.style.Text({text:o.toString(),fill:new ol.style.Fill({color:"#000"})})})]}return i}const L=new ol.source.Vector({format:new ol.format.GeoJSON,url:"https://wildfireviz.herokuapp.com/wildfire/api/v1/"});var S=new ol.source.Cluster({distance:40,source:L}),b=new ol.layer.AnimatedCluster({name:"Cluster",source:S,style:C});l.addLayer(b);l.getView().calculateExtent(l.getSize());var a=new ol.interaction.SelectCluster({selectCluster:!0,animate:!0});l.addInteraction(a);var E=new ol.interaction.Select({hitTolerance:5,multi:!0,condition:ol.events.condition.singleClick});l.addInteraction(E);a.getFeatures().on(["add"],function(e){var n=e.element.get("features");if(n.length==1){var o=n[0];$(".details").html("<i class='fa-solid fa-circle-info'></i></br>"),$(".clusterHeading").html(n.length+" feature Selected"),$(".clusterInfo").html("Location: "+o.get("title")+" <br/>  Date of Occurence: "+o.get("date")+"   <br/>  Coordinate of Location: "+o.get("coordinates")+""),a.getFeatures().on(["remove"],function(i){$(".details").html("")})}else a.getFeatures().on(["remove"],function(i){$(".clusterHeading").html("")}),n.forEach(function(i){$(".details").html("<i class='fa-solid fa-asterisk'></i></br>"),$(".clusterHeading").html("Cluster with "+n.length+" features selected"),$(".clusterInfo").html("Click on a feature in the Animated Cluster Layer to see its details"),a.getFeatures().on(["remove"],function(t){$(".details").html("")})})});a.getFeatures().on(["remove"],function(e){$(".clusterInfo").html("")});let v=document.getElementById("map"),I=document.getElementById("pdfPrint");var u=new ol.control.Print;l.addControl(u);u.on("printing",function(e){v.style.opacity=.5});u.on(["print","error"],function(e){if(v.style.opacity=1,e.image)if(e.pdf){var n=new jsPDF({orientation:e.print.orientation,unit:e.print.unit,format:e.print.size});n.addImage(e.image,"JPEG",e.print.position[0],e.print.position[0],e.print.imageWidth,e.print.imageHeight),n.save()}else e.canvas.toBlob(function(o){saveAs(o,"map."+e.imageType.replace("image/",""))},e.imageType);else console.warn("No canvas to export")});I.addEventListener("click",()=>{u.print({pdf:!0,imageType:"image/jpeg"})});var m=new Geocoder("nominatim",{provider:"osm",lang:"en",placeholder:"Enter location ...",limit:5,debug:!1,autoComplete:!0,keepOpen:!1});l.addControl(m);m.on("addresschosen",function(e){e.feature,e.coordinate,e.address,m.getSource().clear()});$(".loading").hide(15e3,function(){l.setTarget("map")});
//# sourceMappingURL=index.d46b8bc8.js.map
